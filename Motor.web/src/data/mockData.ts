import { Motor, HistoricoMotor, Alarme, Usuario, OrdemServico } from '../types';

export const mockMotors: Motor[] = [
  {
    id: '1',
    nome: 'Motor Britador Principal',
    potencia: 250,
    tensao: 380,
    correnteNominal: 380,
    percentualCorrenteMaxima: 110,
    histerese: 5,
    correnteInicial: 50,
    status: 'ligado',
    horimetro: 12450,
    correnteAtual: 365,
    posicaoX: 250,
    posicaoY: 180,
    horimetroProximaManutencao: 13000,
    dataEstimadaProximaManutencao: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
    totalOS: 12,
    mediaHorasDia: 18.5,
    mediaHorasSemana: 129.5,
    mediaHorasMes: 555,
  },
  {
    id: '2',
    nome: 'Motor Esteira 01',
    potencia: 75,
    tensao: 380,
    correnteNominal: 115,
    percentualCorrenteMaxima: 110,
    histerese: 5,
    correnteInicial: 20,
    status: 'ligado',
    horimetro: 8920,
    correnteAtual: 102,
    posicaoX: 420,
    posicaoY: 200,
    horimetroProximaManutencao: 9500,
    dataEstimadaProximaManutencao: new Date(Date.now() + 20 * 24 * 60 * 60 * 1000),
    totalOS: 8,
    mediaHorasDia: 12.3,
    mediaHorasSemana: 86.1,
    mediaHorasMes: 369,
  },
  {
    id: '3',
    nome: 'Motor Esteira 02',
    potencia: 75,
    tensao: 380,
    correnteNominal: 115,
    percentualCorrenteMaxima: 110,
    histerese: 5,
    correnteInicial: 20,
    status: 'alerta',
    horimetro: 9150,
    correnteAtual: 125,
    posicaoX: 580,
    posicaoY: 220,
    horimetroProximaManutencao: 9500,
    dataEstimadaProximaManutencao: new Date(Date.now() + 15 * 24 * 60 * 60 * 1000),
    totalOS: 6,
    mediaHorasDia: 13.2,
    mediaHorasSemana: 92.4,
    mediaHorasMes: 396,
  },
  {
    id: '4',
    nome: 'Motor Peneira Vibratória',
    potencia: 50,
    tensao: 380,
    correnteNominal: 76,
    percentualCorrenteMaxima: 110,
    histerese: 5,
    correnteInicial: 15,
    status: 'ligado',
    horimetro: 6730,
    correnteAtual: 71,
    posicaoX: 380,
    posicaoY: 350,
    horimetroProximaManutencao: 7500,
    dataEstimadaProximaManutencao: new Date(Date.now() + 45 * 24 * 60 * 60 * 1000),
    totalOS: 5,
    mediaHorasDia: 10.5,
    mediaHorasSemana: 73.5,
    mediaHorasMes: 315,
  },
  {
    id: '5',
    nome: 'Motor Bomba D\'água',
    potencia: 30,
    tensao: 380,
    correnteNominal: 46,
    percentualCorrenteMaxima: 110,
    histerese: 5,
    correnteInicial: 10,
    status: 'desligado',
    horimetro: 15680,
    correnteAtual: 0,
    posicaoX: 150,
    posicaoY: 420,
    horimetroProximaManutencao: 16000,
    dataEstimadaProximaManutencao: new Date(Date.now() + 10 * 24 * 60 * 60 * 1000),
    totalOS: 15,
    mediaHorasDia: 8.2,
    mediaHorasSemana: 57.4,
    mediaHorasMes: 246,
  },
  {
    id: '6',
    nome: 'Motor Elevador de Canecas',
    potencia: 100,
    tensao: 380,
    correnteNominal: 153,
    percentualCorrenteMaxima: 110,
    histerese: 5,
    correnteInicial: 25,
    status: 'pendente',
    horimetro: 11250,
    correnteAtual: 148,
    posicaoX: 700,
    posicaoY: 280,
    horimetroProximaManutencao: 12000,
    dataEstimadaProximaManutencao: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),
    totalOS: 10,
    mediaHorasDia: 15.8,
    mediaHorasSemana: 110.6,
    mediaHorasMes: 474,
  },
];

// Gerar histórico para os últimos 30 dias
export const generateMockHistory = (): HistoricoMotor[] => {
  const history: HistoricoMotor[] = [];
  const now = new Date();
  
  mockMotors.forEach(motor => {
    for (let day = 30; day >= 0; day--) {
      for (let hour = 0; hour < 24; hour += 2) {
        const timestamp = new Date(now);
        timestamp.setDate(timestamp.getDate() - day);
        timestamp.setHours(hour, 0, 0, 0);
        
        const variation = Math.random() * 20 - 10;
        history.push({
          id: `${motor.id}-${day}-${hour}`,
          motorId: motor.id,
          timestamp,
          corrente: motor.correnteNominal + variation,
          tensao: motor.tensao + (Math.random() * 10 - 5),
          temperatura: 45 + Math.random() * 30,
          status: motor.status,
        });
      }
    }
  });
  
  return history;
};

export const mockHistory = generateMockHistory();

export const mockAlarms: Alarme[] = [
  {
    id: '1',
    motorId: '3',
    motorNome: 'Motor Esteira 02',
    tipo: 'alerta',
    mensagem: 'Corrente acima do limite nominal (125A / 115A nominal)',
    timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000),
    reconhecido: false,
  },
  {
    id: '2',
    motorId: '5',
    motorNome: 'Motor Bomba D\'água',
    tipo: 'erro',
    mensagem: 'Motor offline - Sem comunicação',
    timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000),
    reconhecido: false,
  },
  {
    id: '3',
    motorId: '1',
    motorNome: 'Motor Britador Principal',
    tipo: 'alerta',
    mensagem: 'Vibração elevada detectada',
    timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000),
    reconhecido: true,
  },
  {
    id: '4',
    motorId: '2',
    motorNome: 'Motor Esteira 01',
    tipo: 'info',
    mensagem: 'Manutenção preventiva programada em 7 dias',
    timestamp: new Date(Date.now() - 48 * 60 * 60 * 1000),
    reconhecido: true,
  },
  {
    id: '5',
    motorId: '6',
    motorNome: 'Motor Elevador de Canecas',
    tipo: 'alerta',
    mensagem: 'Temperatura acima do normal (78°C)',
    timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000),
    reconhecido: false,
  },
];

// Ordens de Serviço Mock
export const mockOrdensServico: OrdemServico[] = [
  {
    id: 'os1',
    motorId: '1',
    numeroOS: 'OS-2024-001',
    dataAbertura: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000),
    dataEncerramento: new Date(Date.now() - 58 * 24 * 60 * 60 * 1000),
    dataPrevista: new Date(Date.now() - 58 * 24 * 60 * 60 * 1000),
    status: 'concluida',
    descricao: 'Manutenção preventiva - Troca de rolamentos e lubrificação',
    tipo: 'preventiva',
    relatorios: [
      {
        id: 'rel1',
        osId: 'os1',
        data: new Date(Date.now() - 59 * 24 * 60 * 60 * 1000),
        tecnico: 'Carlos Mendes',
        descricao: 'Início da manutenção preventiva',
        observacoes: 'Motor desligado e isolado. Iniciando desmontagem.',
      },
      {
        id: 'rel2',
        osId: 'os1',
        data: new Date(Date.now() - 58 * 24 * 60 * 60 * 1000),
        tecnico: 'Carlos Mendes',
        descricao: 'Manutenção concluída',
        observacoes: 'Rolamentos trocados, lubrificação realizada. Testes de funcionamento OK.',
      },
    ],
  },
  {
    id: 'os2',
    motorId: '1',
    numeroOS: 'OS-2024-012',
    dataAbertura: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),
    dataEncerramento: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000),
    dataPrevista: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000),
    status: 'concluida',
    descricao: 'Ajuste de tensão e verificação de conexões',
    tipo: 'preventiva',
    relatorios: [
      {
        id: 'rel3',
        osId: 'os2',
        data: new Date(Date.now() - 9 * 24 * 60 * 60 * 1000),
        tecnico: 'João Silva',
        descricao: 'Verificação de conexões elétricas',
        observacoes: 'Todas as conexões verificadas e ajustadas.',
      },
    ],
  },
  {
    id: 'os3',
    motorId: '5',
    numeroOS: 'OS-2024-015',
    dataAbertura: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
    dataPrevista: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000),
    status: 'aberta',
    descricao: 'Manutenção preventiva programada',
    tipo: 'preventiva',
    relatorios: [],
  },
  {
    id: 'os4',
    motorId: '6',
    numeroOS: 'OS-2024-010',
    dataAbertura: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
    dataPrevista: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
    status: 'atrasada',
    descricao: 'Correção de vibração excessiva',
    tipo: 'corretiva',
    relatorios: [
      {
        id: 'rel4',
        osId: 'os4',
        data: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
        tecnico: 'Maria Santos',
        descricao: 'Diagnóstico inicial',
        observacoes: 'Vibração detectada no eixo. Aguardando peças de reposição.',
      },
    ],
  },
  {
    id: 'os5',
    motorId: '3',
    numeroOS: 'OS-2024-008',
    dataAbertura: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),
    dataEncerramento: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000),
    dataPrevista: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000),
    status: 'concluida',
    descricao: 'Troca de correias e alinhamento',
    tipo: 'preventiva',
    relatorios: [
      {
        id: 'rel5',
        osId: 'os5',
        data: new Date(Date.now() - 13 * 24 * 60 * 60 * 1000),
        tecnico: 'Carlos Mendes',
        descricao: 'Manutenção em andamento',
        observacoes: 'Correias trocadas, iniciando alinhamento.',
      },
      {
        id: 'rel6',
        osId: 'os5',
        data: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000),
        tecnico: 'Carlos Mendes',
        descricao: 'Manutenção concluída',
        observacoes: 'Alinhamento realizado. Motor testado e funcionando perfeitamente.',
      },
    ],
  },
  {
    id: 'os6',
    motorId: '2',
    numeroOS: 'OS-2024-005',
    dataAbertura: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000),
    dataEncerramento: new Date(Date.now() - 18 * 24 * 60 * 60 * 1000),
    dataPrevista: new Date(Date.now() - 18 * 24 * 60 * 60 * 1000),
    status: 'concluida',
    descricao: 'Limpeza e inspeção geral',
    tipo: 'preventiva',
    relatorios: [
      {
        id: 'rel7',
        osId: 'os6',
        data: new Date(Date.now() - 19 * 24 * 60 * 60 * 1000),
        tecnico: 'João Silva',
        descricao: 'Limpeza realizada',
        observacoes: 'Motor limpo, inspeção visual OK.',
      },
    ],
  },
];

export const mockUsers: Usuario[] = [
  {
    id: '1',
    nome: 'Administrador Sistema',
    email: 'admin@pedreira.com',
    perfil: 'admin',
    ativo: true,
    ultimoAcesso: new Date(),
  },
  {
    id: '2',
    nome: 'João Silva',
    email: 'joao.silva@pedreira.com',
    perfil: 'operador',
    ativo: true,
    ultimoAcesso: new Date(Date.now() - 2 * 60 * 60 * 1000),
  },
  {
    id: '3',
    nome: 'Maria Santos',
    email: 'maria.santos@pedreira.com',
    perfil: 'operador',
    ativo: true,
    ultimoAcesso: new Date(Date.now() - 5 * 60 * 60 * 1000),
  },
  {
    id: '4',
    nome: 'Carlos Mendes',
    email: 'carlos.mendes@pedreira.com',
    perfil: 'visualizador',
    ativo: true,
    ultimoAcesso: new Date(Date.now() - 24 * 60 * 60 * 1000),
  },
  {
    id: '5',
    nome: 'Ana Costa',
    email: 'ana.costa@pedreira.com',
    perfil: 'visualizador',
    ativo: false,
    ultimoAcesso: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),
  },
];
